{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bumpy\\\\WebstormProjects\\\\volfproject\\\\src\\\\components\\\\BubbleChart.tsx\";\nimport React, { Component } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { chartjsDataTemplate } from '../interfaces/SortInterfaces';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class BubbleChart extends Component {\n  constructor(props) {\n    super(props);\n    this.chartReference = void 0;\n    this.chart = void 0;\n    this.timer = void 0;\n    this.state = chartjsDataTemplate;\n    this.chartReference = /*#__PURE__*/React.createRef();\n    this.timer = 1;\n  }\n\n  randomize(size) {\n    this.chart.data.labels = Array.from({\n      length: size\n    }, () => Math.floor(Math.random() * 1000));\n    this.chart.data.datasets[0].data = Array.from({\n      length: size\n    }, (_, i) => (i + 1).toString());\n  }\n\n  bubbleSort() {\n    const labels = this.chart.data.labels;\n    const data = this.chart.data.datasets[0].data;\n    const colors = this.chart.data.datasets[0].backgroundColor;\n    let swapped;\n    let timeout = 0;\n\n    do {\n      swapped = false;\n\n      for (let i = 0; i < data.length; i++) {\n        if (data[i] > data[i + 1]) {\n          this.swap(labels, i);\n          this.swap(data, i);\n          this.swap(colors, i);\n          timeout += 100;\n          this.updateChartDelayed(labels.slice(0), data.slice(0), colors.slice(0), timeout);\n          swapped = true;\n        }\n      }\n    } while (swapped);\n  }\n\n  swap(arr, i) {\n    const tmp = arr[i];\n    arr[i] = arr[i + 1];\n    arr[i + 1] = tmp;\n  }\n\n  componentDidMount() {\n    this.chart = this.chartReference.current.chartInstance;\n    const tempChartJSObject = chartjsDataTemplate;\n    tempChartJSObject.datasets[0].label = this.props.commands.name;\n    this.setState(tempChartJSObject); // setTimeout(() => {\n    // \tthis.bubbleSort();\n    // }, 1000);\n  }\n\n  updateChartDelayed(labels, data, colors, timeout) {\n    this.timer = setTimeout(() => {\n      this.chart.data.labels = labels;\n      this.chart.data.datasets[0].data = data;\n      this.chart.data.datasets[0].backgroundColor = colors;\n      this.chart.update();\n    }, timeout);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  componentDidUpdate(prevProps) {\n    //prevProps = initialBubbleCommandsState;\n    if (this.props != prevProps) {\n      if (this.props.commands.startSorting) {\n        // const temporaryDataToSort = chartjsDataTemplate;\n        // temporaryDataToSort.datasets[0].data = BubbleSort({data:chartjsDataTemplate});\n        // this.setState(temporaryDataToSort);\n        // this.forceUpdate();\n        setTimeout(() => {\n          this.bubbleSort();\n        }, 500);\n      }\n\n      if (this.props.commands.arrayLength !== prevProps.commands.arrayLength) {\n        console.log('Old length is ', prevProps.commands.arrayLength);\n        console.log('now length is ', this.props.commands.arrayLength);\n        this.randomize(this.props.commands.arrayLength); // const temporaryDataToSort = chartjsDataTemplate;\n        // temporaryDataToSort.datasets[0].data = Array.from({length: this.props.commands.arrayLength}, () => Math.floor(Math.random() * 1000));\n        // temporaryDataToSort.labels = Array.from({ length: this.props.commands.arrayLength }, (_, i) => (i+1).toString());\n        // this.setState(temporaryDataToSort);\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Bar, {\n        data: this.state,\n        width: 100,\n        height: 50,\n        ref: this.chartReference\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 4\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Bumpy/WebstormProjects/volfproject/src/components/BubbleChart.tsx"],"names":["React","Component","Bar","chartjsDataTemplate","BubbleChart","constructor","props","chartReference","chart","timer","state","createRef","randomize","size","data","labels","Array","from","length","Math","floor","random","datasets","_","i","toString","bubbleSort","colors","backgroundColor","swapped","timeout","swap","updateChartDelayed","slice","arr","tmp","componentDidMount","current","chartInstance","tempChartJSObject","label","commands","name","setState","setTimeout","update","componentWillUnmount","clearInterval","componentDidUpdate","prevProps","startSorting","arrayLength","console","log","render"],"mappings":"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","sourcesContent":["import React, {Component, useState} from 'react';\r\nimport {Bar} from 'react-chartjs-2';\r\nimport {BubbleCommandsInterface, chartjsDataType, chartjsDataTemplate, initialBubbleCommandsState, BubbleSort} from '../interfaces/SortInterfaces';\r\n\r\n\r\n\r\n\r\nexport default class BubbleChart extends Component<any>{\r\n\tprivate chartReference: React.RefObject<any>;\r\n\tprivate chart: any;\r\n\tprivate timer: any;\r\n\r\n\r\n\tconstructor(props: BubbleCommandsInterface) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = chartjsDataTemplate;\r\n\r\n\t\tthis.chartReference = React.createRef<any>();\r\n\r\n\t\tthis.timer =1;\r\n\r\n\t}\r\n\r\n\trandomize(size: number){\r\n\t\tthis.chart.data.labels = Array.from({length: size}, () => Math.floor(Math.random() * 1000));\r\n\t\tthis.chart.data.datasets[0].data = Array.from({ length: size }, (_, i) => (i+1).toString());\r\n\t}\r\n\tbubbleSort() {\r\n\t\tconst labels = this.chart.data.labels;\r\n\t\tconst data = this.chart.data.datasets[0].data;\r\n\t\tconst colors = this.chart.data.datasets[0].backgroundColor;\r\n\t\tlet swapped;\r\n\t\tlet timeout = 0;\r\n\t\tdo {\r\n\t\t\tswapped = false;\r\n\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\tif (data[i] > data[i + 1]) {\r\n\t\t\t\t\tthis.swap(labels, i);\r\n\t\t\t\t\tthis.swap(data, i);\r\n\t\t\t\t\tthis.swap(colors, i);\r\n\t\t\t\t\ttimeout += 100;\r\n\t\t\t\t\tthis.updateChartDelayed(labels.slice(0), data.slice(0), colors.slice(0), timeout);\r\n\t\t\t\t\tswapped = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while (swapped);\r\n\t}\r\n\r\n\tswap(arr:any, i:any) {\r\n\t\tconst tmp = arr[i];\r\n\t\tarr[i] = arr[i + 1];\r\n\t\tarr[i + 1] = tmp;\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.chart = this.chartReference.current.chartInstance;\r\n\r\n\t\tconst tempChartJSObject = chartjsDataTemplate;\r\n\t\ttempChartJSObject.datasets[0].label = this.props.commands.name;\r\n\t\tthis.setState(tempChartJSObject);\r\n\r\n\t\t// setTimeout(() => {\r\n\t\t// \tthis.bubbleSort();\r\n\t\t// }, 1000);\r\n\r\n\t}\r\n\r\n\r\n\r\n\tupdateChartDelayed(labels: string[], data:number[], colors:string[], timeout:number) {\r\n\t\tthis.timer = setTimeout(() => {\r\n\t\t\tthis.chart.data.labels = labels;\r\n\t\t\tthis.chart.data.datasets[0].data = data;\r\n\t\t\tthis.chart.data.datasets[0].backgroundColor = colors;\r\n\t\t\tthis.chart.update();\r\n\t\t}, timeout);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.timer);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps:BubbleCommandsInterface) {\r\n\r\n\t\t//prevProps = initialBubbleCommandsState;\r\n\t\tif(this.props!= prevProps) {\r\n\t\t\tif(this.props.commands.startSorting) {\r\n\t\t\t\t// const temporaryDataToSort = chartjsDataTemplate;\r\n\t\t\t\t// temporaryDataToSort.datasets[0].data = BubbleSort({data:chartjsDataTemplate});\r\n\t\t\t\t// this.setState(temporaryDataToSort);\r\n\t\t\t\t// this.forceUpdate();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.bubbleSort();\r\n\t\t\t\t}, 500);\r\n\r\n\r\n\t\t\t}\r\n\t\t\tif(this.props.commands.arrayLength!==prevProps.commands.arrayLength){\r\n\t\t\t\tconsole.log('Old length is ', prevProps.commands.arrayLength);\r\n\t\t\t\tconsole.log('now length is ', this.props.commands.arrayLength);\r\n\t\t\t\tthis.randomize(this.props.commands.arrayLength);\r\n\t\t\t\t// const temporaryDataToSort = chartjsDataTemplate;\r\n\t\t\t\t// temporaryDataToSort.datasets[0].data = Array.from({length: this.props.commands.arrayLength}, () => Math.floor(Math.random() * 1000));\r\n\t\t\t\t// temporaryDataToSort.labels = Array.from({ length: this.props.commands.arrayLength }, (_, i) => (i+1).toString());\r\n\t\t\t\t// this.setState(temporaryDataToSort);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div><Bar data={this.state} width={100} height={50} ref={this.chartReference}/> </div>\r\n\t\t);\r\n\r\n\t}\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}