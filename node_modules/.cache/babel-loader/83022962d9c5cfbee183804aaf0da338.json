{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SVGmmultiscripts = void 0;\n\nvar msubsup_js_1 = require(\"./msubsup.js\");\n\nvar mmultiscripts_js_1 = require(\"../../common/Wrappers/mmultiscripts.js\");\n\nvar mmultiscripts_js_2 = require(\"../../../core/MmlTree/MmlNodes/mmultiscripts.js\");\n\nvar SVGmmultiscripts = function (_super) {\n  __extends(SVGmmultiscripts, _super);\n\n  function SVGmmultiscripts() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SVGmmultiscripts.prototype.toSVG = function (parent) {\n    var svg = this.standardSVGnode(parent);\n    var data = this.getScriptData();\n    var sub = this.combinePrePost(data.sub, data.psub);\n    var sup = this.combinePrePost(data.sup, data.psup);\n\n    var _a = __read(this.getUVQ(data.base, sub, sup), 2),\n        u = _a[0],\n        v = _a[1];\n\n    var x = 0;\n\n    if (data.numPrescripts) {\n      x = this.addScripts(.05, u, v, true, this.firstPrescript, data.numPrescripts);\n    }\n\n    var base = this.baseChild;\n    base.toSVG(svg);\n    base.place(x, 0);\n    x += base.getBBox().w;\n\n    if (data.numScripts) {\n      this.addScripts(x, u, v, false, 1, data.numScripts);\n    }\n  };\n\n  SVGmmultiscripts.prototype.addScripts = function (x, u, v, isPre, i, n) {\n    var adaptor = this.adaptor;\n    var supRow = adaptor.append(this.element, this.svg('g'));\n    var subRow = adaptor.append(this.element, this.svg('g'));\n    this.place(x, u, supRow);\n    this.place(x, v, subRow);\n    var m = i + 2 * n;\n    var dx = 0;\n\n    while (i < m) {\n      var _a = __read([this.childNodes[i++], this.childNodes[i++]], 2),\n          sub = _a[0],\n          sup = _a[1];\n\n      var _b = __read([sub.getBBox(), sup.getBBox()], 2),\n          subbox = _b[0],\n          supbox = _b[1];\n\n      var _c = __read([subbox.rscale, supbox.rscale], 2),\n          subr = _c[0],\n          supr = _c[1];\n\n      var w = Math.max(subbox.w * subr, supbox.w * supr);\n      sub.toSVG(subRow);\n      sup.toSVG(supRow);\n      sub.place(dx + (isPre ? w - subbox.w * subr : 0), 0);\n      sup.place(dx + (isPre ? w - supbox.w * supr : 0), 0);\n      dx += w;\n    }\n\n    return x + dx;\n  };\n\n  SVGmmultiscripts.kind = mmultiscripts_js_2.MmlMmultiscripts.prototype.kind;\n  return SVGmmultiscripts;\n}(mmultiscripts_js_1.CommonMmultiscriptsMixin(msubsup_js_1.SVGmsubsup));\n\nexports.SVGmmultiscripts = SVGmmultiscripts;","map":{"version":3,"sources":["../../../../ts/output/svg/Wrappers/mmultiscripts.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SVGmmultiscripts = void 0;\nvar msubsup_js_1 = require(\"./msubsup.js\");\nvar mmultiscripts_js_1 = require(\"../../common/Wrappers/mmultiscripts.js\");\nvar mmultiscripts_js_2 = require(\"../../../core/MmlTree/MmlNodes/mmultiscripts.js\");\nvar SVGmmultiscripts = (function (_super) {\n    __extends(SVGmmultiscripts, _super);\n    function SVGmmultiscripts() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SVGmmultiscripts.prototype.toSVG = function (parent) {\n        var svg = this.standardSVGnode(parent);\n        var data = this.getScriptData();\n        var sub = this.combinePrePost(data.sub, data.psub);\n        var sup = this.combinePrePost(data.sup, data.psup);\n        var _a = __read(this.getUVQ(data.base, sub, sup), 2), u = _a[0], v = _a[1];\n        var x = 0;\n        if (data.numPrescripts) {\n            x = this.addScripts(.05, u, v, true, this.firstPrescript, data.numPrescripts);\n        }\n        var base = this.baseChild;\n        base.toSVG(svg);\n        base.place(x, 0);\n        x += base.getBBox().w;\n        if (data.numScripts) {\n            this.addScripts(x, u, v, false, 1, data.numScripts);\n        }\n    };\n    SVGmmultiscripts.prototype.addScripts = function (x, u, v, isPre, i, n) {\n        var adaptor = this.adaptor;\n        var supRow = adaptor.append(this.element, this.svg('g'));\n        var subRow = adaptor.append(this.element, this.svg('g'));\n        this.place(x, u, supRow);\n        this.place(x, v, subRow);\n        var m = i + 2 * n;\n        var dx = 0;\n        while (i < m) {\n            var _a = __read([this.childNodes[i++], this.childNodes[i++]], 2), sub = _a[0], sup = _a[1];\n            var _b = __read([sub.getBBox(), sup.getBBox()], 2), subbox = _b[0], supbox = _b[1];\n            var _c = __read([subbox.rscale, supbox.rscale], 2), subr = _c[0], supr = _c[1];\n            var w = Math.max(subbox.w * subr, supbox.w * supr);\n            sub.toSVG(subRow);\n            sup.toSVG(supRow);\n            sub.place(dx + (isPre ? w - subbox.w * subr : 0), 0);\n            sup.place(dx + (isPre ? w - supbox.w * supr : 0), 0);\n            dx += w;\n        }\n        return x + dx;\n    };\n    SVGmmultiscripts.kind = mmultiscripts_js_2.MmlMmultiscripts.prototype.kind;\n    return SVGmmultiscripts;\n}(mmultiscripts_js_1.CommonMmultiscriptsMixin(msubsup_js_1.SVGmsubsup)));\nexports.SVGmmultiscripts = SVGmmultiscripts;\n//# sourceMappingURL=mmultiscripts.js.map"]},"metadata":{},"sourceType":"script"}