{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.separateOptions = exports.selectOptionsFromKeys = exports.selectOptions = exports.userOptions = exports.defaultOptions = exports.insert = exports.copy = exports.keys = exports.makeArray = exports.expandable = exports.Expandable = exports.REMOVE = exports.APPEND = void 0;\nvar OBJECT = {}.constructor;\n\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null && (obj.constructor === OBJECT || obj.constructor === Expandable);\n}\n\nexports.APPEND = '[+]';\nexports.REMOVE = '[-]';\n\nvar Expandable = function () {\n  function Expandable() {}\n\n  return Expandable;\n}();\n\nexports.Expandable = Expandable;\n\nfunction expandable(def) {\n  return Object.assign(Object.create(Expandable.prototype), def);\n}\n\nexports.expandable = expandable;\n\nfunction makeArray(x) {\n  return Array.isArray(x) ? x : [x];\n}\n\nexports.makeArray = makeArray;\n\nfunction keys(def) {\n  if (!def) {\n    return [];\n  }\n\n  return Object.keys(def).concat(Object.getOwnPropertySymbols(def));\n}\n\nexports.keys = keys;\n\nfunction copy(def) {\n  var e_1, _a;\n\n  var props = {};\n\n  try {\n    for (var _b = __values(keys(def)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var prop = Object.getOwnPropertyDescriptor(def, key);\n      var value = prop.value;\n\n      if (Array.isArray(value)) {\n        prop.value = insert([], value, false);\n      } else if (isObject(value)) {\n        prop.value = copy(value);\n      }\n\n      if (prop.enumerable) {\n        props[key] = prop;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return Object.defineProperties(def.constructor === Expandable ? expandable({}) : {}, props);\n}\n\nexports.copy = copy;\n\nfunction insert(dst, src, warn) {\n  var e_2, _a;\n\n  if (warn === void 0) {\n    warn = true;\n  }\n\n  var _loop_1 = function (key) {\n    if (warn && dst[key] === undefined && dst.constructor !== Expandable) {\n      if (typeof key === 'symbol') {\n        key = key.toString();\n      }\n\n      throw new Error('Invalid option \"' + key + '\" (no default value).');\n    }\n\n    var sval = src[key],\n        dval = dst[key];\n\n    if (isObject(sval) && dval !== null && (typeof dval === 'object' || typeof dval === 'function')) {\n      var ids = keys(sval);\n\n      if (Array.isArray(dval) && (ids.length === 1 && (ids[0] === exports.APPEND || ids[0] === exports.REMOVE) && Array.isArray(sval[ids[0]]) || ids.length === 2 && ids.sort().join(',') === exports.APPEND + ',' + exports.REMOVE && Array.isArray(sval[exports.APPEND]) && Array.isArray(sval[exports.REMOVE]))) {\n        if (sval[exports.REMOVE]) {\n          dval = dst[key] = dval.filter(function (x) {\n            return sval[exports.REMOVE].indexOf(x) < 0;\n          });\n        }\n\n        if (sval[exports.APPEND]) {\n          dst[key] = __spread(dval, sval[exports.APPEND]);\n        }\n      } else {\n        insert(dval, sval, warn);\n      }\n    } else if (Array.isArray(sval)) {\n      dst[key] = [];\n      insert(dst[key], sval, false);\n    } else if (isObject(sval)) {\n      dst[key] = copy(sval);\n    } else {\n      dst[key] = sval;\n    }\n  };\n\n  try {\n    for (var _b = __values(keys(src)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n\n      _loop_1(key);\n    }\n  } catch (e_2_1) {\n    e_2 = {\n      error: e_2_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n\n  return dst;\n}\n\nexports.insert = insert;\n\nfunction defaultOptions(options) {\n  var defs = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    defs[_i - 1] = arguments[_i];\n  }\n\n  defs.forEach(function (def) {\n    return insert(options, def, false);\n  });\n  return options;\n}\n\nexports.defaultOptions = defaultOptions;\n\nfunction userOptions(options) {\n  var defs = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    defs[_i - 1] = arguments[_i];\n  }\n\n  defs.forEach(function (def) {\n    return insert(options, def, true);\n  });\n  return options;\n}\n\nexports.userOptions = userOptions;\n\nfunction selectOptions(options) {\n  var e_3, _a;\n\n  var keys = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    keys[_i - 1] = arguments[_i];\n  }\n\n  var subset = {};\n\n  try {\n    for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n      var key = keys_1_1.value;\n\n      if (options.hasOwnProperty(key)) {\n        subset[key] = options[key];\n      }\n    }\n  } catch (e_3_1) {\n    e_3 = {\n      error: e_3_1\n    };\n  } finally {\n    try {\n      if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n    } finally {\n      if (e_3) throw e_3.error;\n    }\n  }\n\n  return subset;\n}\n\nexports.selectOptions = selectOptions;\n\nfunction selectOptionsFromKeys(options, object) {\n  return selectOptions.apply(void 0, __spread([options], Object.keys(object)));\n}\n\nexports.selectOptionsFromKeys = selectOptionsFromKeys;\n\nfunction separateOptions(options) {\n  var e_4, _a, e_5, _b;\n\n  var objects = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    objects[_i - 1] = arguments[_i];\n  }\n\n  var results = [];\n\n  try {\n    for (var objects_1 = __values(objects), objects_1_1 = objects_1.next(); !objects_1_1.done; objects_1_1 = objects_1.next()) {\n      var object = objects_1_1.value;\n      var exists = {},\n          missing = {};\n\n      try {\n        for (var _c = (e_5 = void 0, __values(Object.keys(options || {}))), _d = _c.next(); !_d.done; _d = _c.next()) {\n          var key = _d.value;\n          (object[key] === undefined ? missing : exists)[key] = options[key];\n        }\n      } catch (e_5_1) {\n        e_5 = {\n          error: e_5_1\n        };\n      } finally {\n        try {\n          if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        } finally {\n          if (e_5) throw e_5.error;\n        }\n      }\n\n      results.push(exists);\n      options = missing;\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (objects_1_1 && !objects_1_1.done && (_a = objects_1.return)) _a.call(objects_1);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n\n  results.unshift(options);\n  return results;\n}\n\nexports.separateOptions = separateOptions;","map":{"version":3,"sources":["../../ts/util/Options.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.separateOptions = exports.selectOptionsFromKeys = exports.selectOptions = exports.userOptions = exports.defaultOptions = exports.insert = exports.copy = exports.keys = exports.makeArray = exports.expandable = exports.Expandable = exports.REMOVE = exports.APPEND = void 0;\nvar OBJECT = {}.constructor;\nfunction isObject(obj) {\n    return typeof obj === 'object' && obj !== null &&\n        (obj.constructor === OBJECT || obj.constructor === Expandable);\n}\nexports.APPEND = '[+]';\nexports.REMOVE = '[-]';\nvar Expandable = (function () {\n    function Expandable() {\n    }\n    return Expandable;\n}());\nexports.Expandable = Expandable;\nfunction expandable(def) {\n    return Object.assign(Object.create(Expandable.prototype), def);\n}\nexports.expandable = expandable;\nfunction makeArray(x) {\n    return Array.isArray(x) ? x : [x];\n}\nexports.makeArray = makeArray;\nfunction keys(def) {\n    if (!def) {\n        return [];\n    }\n    return Object.keys(def).concat(Object.getOwnPropertySymbols(def));\n}\nexports.keys = keys;\nfunction copy(def) {\n    var e_1, _a;\n    var props = {};\n    try {\n        for (var _b = __values(keys(def)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var key = _c.value;\n            var prop = Object.getOwnPropertyDescriptor(def, key);\n            var value = prop.value;\n            if (Array.isArray(value)) {\n                prop.value = insert([], value, false);\n            }\n            else if (isObject(value)) {\n                prop.value = copy(value);\n            }\n            if (prop.enumerable) {\n                props[key] = prop;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return Object.defineProperties(def.constructor === Expandable ? expandable({}) : {}, props);\n}\nexports.copy = copy;\nfunction insert(dst, src, warn) {\n    var e_2, _a;\n    if (warn === void 0) { warn = true; }\n    var _loop_1 = function (key) {\n        if (warn && dst[key] === undefined && dst.constructor !== Expandable) {\n            if (typeof key === 'symbol') {\n                key = key.toString();\n            }\n            throw new Error('Invalid option \"' + key + '\" (no default value).');\n        }\n        var sval = src[key], dval = dst[key];\n        if (isObject(sval) && dval !== null &&\n            (typeof dval === 'object' || typeof dval === 'function')) {\n            var ids = keys(sval);\n            if (Array.isArray(dval) &&\n                ((ids.length === 1 && (ids[0] === exports.APPEND || ids[0] === exports.REMOVE) && Array.isArray(sval[ids[0]])) ||\n                    (ids.length === 2 && ids.sort().join(',') === exports.APPEND + ',' + exports.REMOVE &&\n                        Array.isArray(sval[exports.APPEND]) && Array.isArray(sval[exports.REMOVE])))) {\n                if (sval[exports.REMOVE]) {\n                    dval = dst[key] = dval.filter(function (x) { return sval[exports.REMOVE].indexOf(x) < 0; });\n                }\n                if (sval[exports.APPEND]) {\n                    dst[key] = __spread(dval, sval[exports.APPEND]);\n                }\n            }\n            else {\n                insert(dval, sval, warn);\n            }\n        }\n        else if (Array.isArray(sval)) {\n            dst[key] = [];\n            insert(dst[key], sval, false);\n        }\n        else if (isObject(sval)) {\n            dst[key] = copy(sval);\n        }\n        else {\n            dst[key] = sval;\n        }\n    };\n    try {\n        for (var _b = __values(keys(src)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var key = _c.value;\n            _loop_1(key);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return dst;\n}\nexports.insert = insert;\nfunction defaultOptions(options) {\n    var defs = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        defs[_i - 1] = arguments[_i];\n    }\n    defs.forEach(function (def) { return insert(options, def, false); });\n    return options;\n}\nexports.defaultOptions = defaultOptions;\nfunction userOptions(options) {\n    var defs = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        defs[_i - 1] = arguments[_i];\n    }\n    defs.forEach(function (def) { return insert(options, def, true); });\n    return options;\n}\nexports.userOptions = userOptions;\nfunction selectOptions(options) {\n    var e_3, _a;\n    var keys = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        keys[_i - 1] = arguments[_i];\n    }\n    var subset = {};\n    try {\n        for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n            var key = keys_1_1.value;\n            if (options.hasOwnProperty(key)) {\n                subset[key] = options[key];\n            }\n        }\n    }\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n    finally {\n        try {\n            if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n        }\n        finally { if (e_3) throw e_3.error; }\n    }\n    return subset;\n}\nexports.selectOptions = selectOptions;\nfunction selectOptionsFromKeys(options, object) {\n    return selectOptions.apply(void 0, __spread([options], Object.keys(object)));\n}\nexports.selectOptionsFromKeys = selectOptionsFromKeys;\nfunction separateOptions(options) {\n    var e_4, _a, e_5, _b;\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    var results = [];\n    try {\n        for (var objects_1 = __values(objects), objects_1_1 = objects_1.next(); !objects_1_1.done; objects_1_1 = objects_1.next()) {\n            var object = objects_1_1.value;\n            var exists = {}, missing = {};\n            try {\n                for (var _c = (e_5 = void 0, __values(Object.keys(options || {}))), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var key = _d.value;\n                    (object[key] === undefined ? missing : exists)[key] = options[key];\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n            results.push(exists);\n            options = missing;\n        }\n    }\n    catch (e_4_1) { e_4 = { error: e_4_1 }; }\n    finally {\n        try {\n            if (objects_1_1 && !objects_1_1.done && (_a = objects_1.return)) _a.call(objects_1);\n        }\n        finally { if (e_4) throw e_4.error; }\n    }\n    results.unshift(options);\n    return results;\n}\nexports.separateOptions = separateOptions;\n//# sourceMappingURL=Options.js.map"]},"metadata":{},"sourceType":"script"}