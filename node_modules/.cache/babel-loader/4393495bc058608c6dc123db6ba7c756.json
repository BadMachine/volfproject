{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar _a;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseConfiguration = exports.BaseTags = exports.Other = void 0;\n\nvar Configuration_js_1 = require(\"../Configuration.js\");\n\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\n\nvar TexError_js_1 = require(\"../TexError.js\");\n\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\n\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\n\nvar bitem = require(\"./BaseItems.js\");\n\nvar Tags_js_1 = require(\"../Tags.js\");\n\nrequire(\"./BaseMappings.js\");\n\nnew SymbolMap_js_1.CharacterMap('remap', null, {\n  '-': '\\u2212',\n  '*': '\\u2217',\n  '`': '\\u2018'\n});\n\nfunction Other(parser, char) {\n  var font = parser.stack.env['font'];\n  var def = font ? {\n    mathvariant: parser.stack.env['font']\n  } : {};\n  var remap = MapHandler_js_1.MapHandler.getMap('remap').lookup(char);\n  var mo = parser.create('token', 'mo', def, remap ? remap.char : char);\n  NodeUtil_js_1.default.setProperty(mo, 'fixStretchy', true);\n  parser.configuration.addNode('fixStretchy', mo);\n  parser.Push(mo);\n}\n\nexports.Other = Other;\n\nfunction csUndefined(_parser, name) {\n  throw new TexError_js_1.default('UndefinedControlSequence', 'Undefined control sequence %1', '\\\\' + name);\n}\n\nfunction envUndefined(_parser, env) {\n  throw new TexError_js_1.default('UnknownEnv', 'Unknown environment \\'%1\\'', env);\n}\n\nvar BaseTags = function (_super) {\n  __extends(BaseTags, _super);\n\n  function BaseTags() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return BaseTags;\n}(Tags_js_1.AbstractTags);\n\nexports.BaseTags = BaseTags;\nexports.BaseConfiguration = Configuration_js_1.Configuration.create('base', {\n  handler: {\n    character: ['command', 'special', 'letter', 'digit'],\n    delimiter: ['delimiter'],\n    macro: ['delimiter', 'macros', 'mathchar0mi', 'mathchar0mo', 'mathchar7'],\n    environment: ['environment']\n  },\n  fallback: {\n    character: Other,\n    macro: csUndefined,\n    environment: envUndefined\n  },\n  items: (_a = {}, _a[bitem.StartItem.prototype.kind] = bitem.StartItem, _a[bitem.StopItem.prototype.kind] = bitem.StopItem, _a[bitem.OpenItem.prototype.kind] = bitem.OpenItem, _a[bitem.CloseItem.prototype.kind] = bitem.CloseItem, _a[bitem.PrimeItem.prototype.kind] = bitem.PrimeItem, _a[bitem.SubsupItem.prototype.kind] = bitem.SubsupItem, _a[bitem.OverItem.prototype.kind] = bitem.OverItem, _a[bitem.LeftItem.prototype.kind] = bitem.LeftItem, _a[bitem.RightItem.prototype.kind] = bitem.RightItem, _a[bitem.BeginItem.prototype.kind] = bitem.BeginItem, _a[bitem.EndItem.prototype.kind] = bitem.EndItem, _a[bitem.StyleItem.prototype.kind] = bitem.StyleItem, _a[bitem.PositionItem.prototype.kind] = bitem.PositionItem, _a[bitem.CellItem.prototype.kind] = bitem.CellItem, _a[bitem.MmlItem.prototype.kind] = bitem.MmlItem, _a[bitem.FnItem.prototype.kind] = bitem.FnItem, _a[bitem.NotItem.prototype.kind] = bitem.NotItem, _a[bitem.DotsItem.prototype.kind] = bitem.DotsItem, _a[bitem.ArrayItem.prototype.kind] = bitem.ArrayItem, _a[bitem.EqnArrayItem.prototype.kind] = bitem.EqnArrayItem, _a[bitem.EquationItem.prototype.kind] = bitem.EquationItem, _a),\n  options: {\n    maxMacros: 1000,\n    baseURL: typeof document === 'undefined' || document.getElementsByTagName('base').length === 0 ? '' : String(document.location).replace(/#.*$/, '')\n  },\n  tags: {\n    base: BaseTags\n  }\n});","map":{"version":3,"sources":["../../../../ts/input/tex/base/BaseConfiguration.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseConfiguration = exports.BaseTags = exports.Other = void 0;\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar bitem = require(\"./BaseItems.js\");\nvar Tags_js_1 = require(\"../Tags.js\");\nrequire(\"./BaseMappings.js\");\nnew SymbolMap_js_1.CharacterMap('remap', null, {\n    '-': '\\u2212',\n    '*': '\\u2217',\n    '`': '\\u2018'\n});\nfunction Other(parser, char) {\n    var font = parser.stack.env['font'];\n    var def = font ?\n        { mathvariant: parser.stack.env['font'] } : {};\n    var remap = MapHandler_js_1.MapHandler.getMap('remap').\n        lookup(char);\n    var mo = parser.create('token', 'mo', def, (remap ? remap.char : char));\n    NodeUtil_js_1.default.setProperty(mo, 'fixStretchy', true);\n    parser.configuration.addNode('fixStretchy', mo);\n    parser.Push(mo);\n}\nexports.Other = Other;\nfunction csUndefined(_parser, name) {\n    throw new TexError_js_1.default('UndefinedControlSequence', 'Undefined control sequence %1', '\\\\' + name);\n}\nfunction envUndefined(_parser, env) {\n    throw new TexError_js_1.default('UnknownEnv', 'Unknown environment \\'%1\\'', env);\n}\nvar BaseTags = (function (_super) {\n    __extends(BaseTags, _super);\n    function BaseTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return BaseTags;\n}(Tags_js_1.AbstractTags));\nexports.BaseTags = BaseTags;\nexports.BaseConfiguration = Configuration_js_1.Configuration.create('base', {\n    handler: {\n        character: ['command', 'special', 'letter', 'digit'],\n        delimiter: ['delimiter'],\n        macro: ['delimiter', 'macros', 'mathchar0mi', 'mathchar0mo', 'mathchar7'],\n        environment: ['environment']\n    },\n    fallback: {\n        character: Other,\n        macro: csUndefined,\n        environment: envUndefined\n    },\n    items: (_a = {},\n        _a[bitem.StartItem.prototype.kind] = bitem.StartItem,\n        _a[bitem.StopItem.prototype.kind] = bitem.StopItem,\n        _a[bitem.OpenItem.prototype.kind] = bitem.OpenItem,\n        _a[bitem.CloseItem.prototype.kind] = bitem.CloseItem,\n        _a[bitem.PrimeItem.prototype.kind] = bitem.PrimeItem,\n        _a[bitem.SubsupItem.prototype.kind] = bitem.SubsupItem,\n        _a[bitem.OverItem.prototype.kind] = bitem.OverItem,\n        _a[bitem.LeftItem.prototype.kind] = bitem.LeftItem,\n        _a[bitem.RightItem.prototype.kind] = bitem.RightItem,\n        _a[bitem.BeginItem.prototype.kind] = bitem.BeginItem,\n        _a[bitem.EndItem.prototype.kind] = bitem.EndItem,\n        _a[bitem.StyleItem.prototype.kind] = bitem.StyleItem,\n        _a[bitem.PositionItem.prototype.kind] = bitem.PositionItem,\n        _a[bitem.CellItem.prototype.kind] = bitem.CellItem,\n        _a[bitem.MmlItem.prototype.kind] = bitem.MmlItem,\n        _a[bitem.FnItem.prototype.kind] = bitem.FnItem,\n        _a[bitem.NotItem.prototype.kind] = bitem.NotItem,\n        _a[bitem.DotsItem.prototype.kind] = bitem.DotsItem,\n        _a[bitem.ArrayItem.prototype.kind] = bitem.ArrayItem,\n        _a[bitem.EqnArrayItem.prototype.kind] = bitem.EqnArrayItem,\n        _a[bitem.EquationItem.prototype.kind] = bitem.EquationItem,\n        _a),\n    options: {\n        maxMacros: 1000,\n        baseURL: (typeof (document) === 'undefined' ||\n            document.getElementsByTagName('base').length === 0) ?\n            '' : String(document.location).replace(/#.*$/, '')\n    },\n    tags: {\n        base: BaseTags\n    }\n});\n//# sourceMappingURL=BaseConfiguration.js.map"]},"metadata":{},"sourceType":"script"}